{
  "expireTime": 9007200843919224000,
  "key": "transformer-remark-markdown-ast-ad8bbadbaee7915c4eeb0d3626d444de-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-",
  "val": {
    "type": "root",
    "children": [
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "Most people use Google every day - yet almost nobody understands how it works. In this article, we will try to scratch the surface of how searching in text works. To be clear, I have no idea how Google search functions. So, this article attempts to explain something I do not fully understand.",
            "position": {
              "start": { "line": 1, "column": 1, "offset": 0 },
              "end": { "line": 1, "column": 294, "offset": 293 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 1, "column": 1, "offset": 0 },
          "end": { "line": 1, "column": 294, "offset": 293 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "Before we get started let us define the atomic part in any search system, the document. At document is a collection of text that you want to find if you loose it.",
            "position": {
              "start": { "line": 3, "column": 1, "offset": 295 },
              "end": { "line": 3, "column": 163, "offset": 457 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 3, "column": 1, "offset": 295 },
          "end": { "line": 3, "column": 163, "offset": 457 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "To find the document there are many versions. Sometimes you want",
            "position": {
              "start": { "line": 5, "column": 1, "offset": 459 },
              "end": { "line": 5, "column": 65, "offset": 523 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 5, "column": 1, "offset": 459 },
          "end": { "line": 5, "column": 65, "offset": 523 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "… Define document and what queries make sense …",
            "position": {
              "start": { "line": 7, "column": 1, "offset": 525 },
              "end": { "line": 7, "column": 52, "offset": 576 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 7, "column": 1, "offset": 525 },
          "end": { "line": 7, "column": 52, "offset": 576 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 1,
        "children": [
          {
            "type": "text",
            "value": "What solutions exist?",
            "position": {
              "start": { "line": 9, "column": 1, "offset": 578 },
              "end": { "line": 9, "column": 22, "offset": 599 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 9, "column": 1, "offset": 578 },
          "end": { "line": 10, "column": 22, "offset": 621 },
          "indent": [1]
        }
      },
      {
        "type": "heading",
        "depth": 2,
        "children": [
          {
            "type": "text",
            "value": "Lucene",
            "position": {
              "start": { "line": 12, "column": 1, "offset": 623 },
              "end": { "line": 12, "column": 7, "offset": 629 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 12, "column": 1, "offset": 623 },
          "end": { "line": 13, "column": 7, "offset": 636 },
          "indent": [1]
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "Lucene is an open source library for indexing.",
            "position": {
              "start": { "line": 15, "column": 1, "offset": 638 },
              "end": { "line": 15, "column": 47, "offset": 684 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 15, "column": 1, "offset": 638 },
          "end": { "line": 15, "column": 47, "offset": 684 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 2,
        "children": [
          {
            "type": "text",
            "value": "Tantivy",
            "position": {
              "start": { "line": 17, "column": 1, "offset": 686 },
              "end": { "line": 17, "column": 8, "offset": 693 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 17, "column": 1, "offset": 686 },
          "end": { "line": 18, "column": 8, "offset": 701 },
          "indent": [1]
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "A really cool alternative in Rust.",
            "position": {
              "start": { "line": 20, "column": 1, "offset": 703 },
              "end": { "line": 20, "column": 35, "offset": 737 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 20, "column": 1, "offset": 703 },
          "end": { "line": 20, "column": 35, "offset": 737 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 1,
        "children": [
          {
            "type": "text",
            "value": "So why have I never heard about Lucene?",
            "position": {
              "start": { "line": 22, "column": 1, "offset": 739 },
              "end": { "line": 22, "column": 40, "offset": 778 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 22, "column": 1, "offset": 739 },
          "end": { "line": 23, "column": 40, "offset": 818 },
          "indent": [1]
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "Lucene is not a database. It is only a datastructure. It needs a system around it to be useful. In the case of Lucene that is ElasticSearch.",
            "position": {
              "start": { "line": 25, "column": 1, "offset": 820 },
              "end": { "line": 25, "column": 141, "offset": 960 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 25, "column": 1, "offset": 820 },
          "end": { "line": 25, "column": 141, "offset": 960 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "What ElasticSearch does is distributing these indexes across multiple nodes.",
            "position": {
              "start": { "line": 27, "column": 1, "offset": 962 },
              "end": { "line": 27, "column": 77, "offset": 1038 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 27, "column": 1, "offset": 962 },
          "end": { "line": 27, "column": 77, "offset": 1038 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "There are two main ways of scaling:",
            "position": {
              "start": { "line": 29, "column": 1, "offset": 1040 },
              "end": { "line": 29, "column": 36, "offset": 1075 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 29, "column": 1, "offset": 1040 },
          "end": { "line": 29, "column": 36, "offset": 1075 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "strong",
            "children": [
              {
                "type": "text",
                "value": "Replication:",
                "position": {
                  "start": { "line": 31, "column": 3, "offset": 1079 },
                  "end": { "line": 31, "column": 15, "offset": 1091 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 31, "column": 1, "offset": 1077 },
              "end": { "line": 31, "column": 17, "offset": 1093 },
              "indent": []
            }
          },
          {
            "type": "text",
            "value": " If you need to scale reads, repliating the same data accross multiple nodes might help.",
            "position": {
              "start": { "line": 31, "column": 17, "offset": 1093 },
              "end": { "line": 31, "column": 105, "offset": 1181 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 31, "column": 1, "offset": 1077 },
          "end": { "line": 31, "column": 105, "offset": 1181 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "strong",
            "children": [
              {
                "type": "text",
                "value": "Sharding:",
                "position": {
                  "start": { "line": 33, "column": 3, "offset": 1185 },
                  "end": { "line": 33, "column": 12, "offset": 1194 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 33, "column": 1, "offset": 1183 },
              "end": { "line": 33, "column": 14, "offset": 1196 },
              "indent": []
            }
          },
          {
            "type": "text",
            "value": " Smaller shards means that you can spread the write load onto more nodes.",
            "position": {
              "start": { "line": 33, "column": 14, "offset": 1196 },
              "end": { "line": 33, "column": 87, "offset": 1269 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 33, "column": 1, "offset": 1183 },
          "end": { "line": 33, "column": 87, "offset": 1269 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 1,
        "children": [
          {
            "type": "text",
            "value": "Google search works?",
            "position": {
              "start": { "line": 35, "column": 1, "offset": 1271 },
              "end": { "line": 35, "column": 21, "offset": 1291 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 35, "column": 1, "offset": 1271 },
          "end": { "line": 36, "column": 21, "offset": 1312 },
          "indent": [1]
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "When you search in google you are writing a query in the same way you would to a SQL database.",
            "position": {
              "start": { "line": 38, "column": 1, "offset": 1314 },
              "end": { "line": 38, "column": 95, "offset": 1408 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 38, "column": 1, "offset": 1314 },
          "end": { "line": 38, "column": 95, "offset": 1408 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "… insert stuff that is cool …",
            "position": {
              "start": { "line": 40, "column": 1, "offset": 1410 },
              "end": { "line": 40, "column": 34, "offset": 1443 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 40, "column": 1, "offset": 1410 },
          "end": { "line": 40, "column": 34, "offset": 1443 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "The same thing goes for Lucene and Tantivy.",
            "position": {
              "start": { "line": 42, "column": 1, "offset": 1445 },
              "end": { "line": 42, "column": 44, "offset": 1488 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 42, "column": 1, "offset": 1445 },
          "end": { "line": 42, "column": 44, "offset": 1488 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 1,
        "children": [
          {
            "type": "text",
            "value": "What if I don’t care about the single documents?",
            "position": {
              "start": { "line": 44, "column": 1, "offset": 1490 },
              "end": { "line": 44, "column": 49, "offset": 1538 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 44, "column": 1, "offset": 1490 },
          "end": { "line": 45, "column": 49, "offset": 1587 },
          "indent": [1]
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "This is where stuff gets really hard. Let’s say you want to know how many websites contain the work “bob”. That is hard.",
            "position": {
              "start": { "line": 47, "column": 1, "offset": 1589 },
              "end": { "line": 47, "column": 121, "offset": 1709 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 47, "column": 1, "offset": 1589 },
          "end": { "line": 47, "column": 121, "offset": 1709 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "This made no sense but I’ll revise it. Good times…",
            "position": {
              "start": { "line": 49, "column": 1, "offset": 1711 },
              "end": { "line": 49, "column": 53, "offset": 1763 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 49, "column": 1, "offset": 1711 },
          "end": { "line": 49, "column": 53, "offset": 1763 },
          "indent": []
        }
      }
    ],
    "position": {
      "start": { "line": 1, "column": 1, "offset": 0 },
      "end": { "line": 50, "column": 1, "offset": 1764 }
    }
  }
}
