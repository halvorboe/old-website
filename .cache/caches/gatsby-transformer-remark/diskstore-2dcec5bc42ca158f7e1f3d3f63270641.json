{"expireTime":9007200843920344000,"key":"transformer-remark-markdown-html-ast-f879fe1facaae5be8f03931a344d394d-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Most people use Google every day - yet almost nobody understands how it works. In this article, we will try to scratch the surface of how searching in text works. To be clear, I have no idea how Google search functions. So, this article attempts to explain something I do not fully understand.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":294,"offset":294}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":294,"offset":294}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before we get started let us define the atomic part in any search system, the document. At document is a collection of text that you want to find if you loose it.","position":{"start":{"line":4,"column":1,"offset":296},"end":{"line":4,"column":163,"offset":458}}}],"position":{"start":{"line":4,"column":1,"offset":296},"end":{"line":4,"column":163,"offset":458}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To find the document there are many versions. Sometimes you want","position":{"start":{"line":6,"column":1,"offset":460},"end":{"line":6,"column":65,"offset":524}}}],"position":{"start":{"line":6,"column":1,"offset":460},"end":{"line":6,"column":65,"offset":524}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"… Define document and what queries make sense …","position":{"start":{"line":8,"column":1,"offset":526},"end":{"line":8,"column":52,"offset":577}}}],"position":{"start":{"line":8,"column":1,"offset":526},"end":{"line":8,"column":52,"offset":577}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"What solutions exist?","position":{"start":{"line":10,"column":3,"offset":581},"end":{"line":10,"column":24,"offset":602}}}],"position":{"start":{"line":10,"column":1,"offset":579},"end":{"line":10,"column":24,"offset":602}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Lucene","position":{"start":{"line":12,"column":4,"offset":607},"end":{"line":12,"column":10,"offset":613}}}],"position":{"start":{"line":12,"column":1,"offset":604},"end":{"line":12,"column":10,"offset":613}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lucene is an open source library for indexing.","position":{"start":{"line":14,"column":1,"offset":615},"end":{"line":14,"column":47,"offset":661}}}],"position":{"start":{"line":14,"column":1,"offset":615},"end":{"line":14,"column":47,"offset":661}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Tantivy","position":{"start":{"line":16,"column":4,"offset":666},"end":{"line":16,"column":11,"offset":673}}}],"position":{"start":{"line":16,"column":1,"offset":663},"end":{"line":16,"column":11,"offset":673}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A really cool alternative in Rust.","position":{"start":{"line":18,"column":1,"offset":675},"end":{"line":18,"column":35,"offset":709}}}],"position":{"start":{"line":18,"column":1,"offset":675},"end":{"line":18,"column":35,"offset":709}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"So why have I never heard about Lucene?","position":{"start":{"line":20,"column":3,"offset":713},"end":{"line":20,"column":42,"offset":752}}}],"position":{"start":{"line":20,"column":1,"offset":711},"end":{"line":20,"column":42,"offset":752}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lucene is not a database. It is only a datastructure. It needs a system around it to be useful. In the case of Lucene that is ElasticSearch.","position":{"start":{"line":22,"column":1,"offset":754},"end":{"line":22,"column":141,"offset":894}}}],"position":{"start":{"line":22,"column":1,"offset":754},"end":{"line":22,"column":141,"offset":894}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"What ElasticSearch does is distributing these indexes across multiple nodes.","position":{"start":{"line":24,"column":1,"offset":896},"end":{"line":24,"column":77,"offset":972}}}],"position":{"start":{"line":24,"column":1,"offset":896},"end":{"line":24,"column":77,"offset":972}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"There are two main ways of scaling:","position":{"start":{"line":26,"column":1,"offset":974},"end":{"line":26,"column":36,"offset":1009}}}],"position":{"start":{"line":26,"column":1,"offset":974},"end":{"line":26,"column":36,"offset":1009}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Replication:","position":{"start":{"line":28,"column":3,"offset":1013},"end":{"line":28,"column":15,"offset":1025}}}],"position":{"start":{"line":28,"column":1,"offset":1011},"end":{"line":28,"column":17,"offset":1027}}},{"type":"text","value":" If you need to scale reads, repliating the same data accross multiple nodes might help.","position":{"start":{"line":28,"column":17,"offset":1027},"end":{"line":28,"column":105,"offset":1115}}}],"position":{"start":{"line":28,"column":1,"offset":1011},"end":{"line":28,"column":105,"offset":1115}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Sharding:","position":{"start":{"line":30,"column":3,"offset":1119},"end":{"line":30,"column":12,"offset":1128}}}],"position":{"start":{"line":30,"column":1,"offset":1117},"end":{"line":30,"column":14,"offset":1130}}},{"type":"text","value":" Smaller shards means that you can spread the write load onto more nodes.","position":{"start":{"line":30,"column":14,"offset":1130},"end":{"line":30,"column":87,"offset":1203}}}],"position":{"start":{"line":30,"column":1,"offset":1117},"end":{"line":30,"column":87,"offset":1203}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"Google search works?","position":{"start":{"line":32,"column":3,"offset":1207},"end":{"line":32,"column":23,"offset":1227}}}],"position":{"start":{"line":32,"column":1,"offset":1205},"end":{"line":32,"column":23,"offset":1227}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When you search in google you are writing a query in the same way you would to a SQL database.","position":{"start":{"line":34,"column":1,"offset":1229},"end":{"line":34,"column":95,"offset":1323}}}],"position":{"start":{"line":34,"column":1,"offset":1229},"end":{"line":34,"column":95,"offset":1323}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"… insert stuff that is cool …","position":{"start":{"line":36,"column":1,"offset":1325},"end":{"line":36,"column":34,"offset":1358}}}],"position":{"start":{"line":36,"column":1,"offset":1325},"end":{"line":36,"column":34,"offset":1358}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The same thing goes for Lucene and Tantivy.","position":{"start":{"line":38,"column":1,"offset":1360},"end":{"line":38,"column":44,"offset":1403}}}],"position":{"start":{"line":38,"column":1,"offset":1360},"end":{"line":38,"column":44,"offset":1403}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"What if I don’t care about the single documents?","position":{"start":{"line":40,"column":3,"offset":1407},"end":{"line":40,"column":51,"offset":1455}}}],"position":{"start":{"line":40,"column":1,"offset":1405},"end":{"line":40,"column":51,"offset":1455}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This is where stuff gets really hard. Let’s say you want to know how many websites contain the work “bob”. That is hard.","position":{"start":{"line":42,"column":1,"offset":1457},"end":{"line":42,"column":121,"offset":1577}}}],"position":{"start":{"line":42,"column":1,"offset":1457},"end":{"line":42,"column":121,"offset":1577}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This made no sense but I’ll revise it. Good times…","position":{"start":{"line":44,"column":1,"offset":1579},"end":{"line":44,"column":53,"offset":1631}}}],"position":{"start":{"line":44,"column":1,"offset":1579},"end":{"line":44,"column":53,"offset":1631}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":45,"column":1,"offset":1632}}}}